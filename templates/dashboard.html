<!DOCTYPE html>
<html>
<head>
    <title>Warden Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div style="overflow-x:auto;">
<table border="1">
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Room</th>
        <th>Mobile</th>
        <th>Branch</th>
        <th>Complaint</th>
        <th>Date & Time</th>
        <th>Status</th>
        <th>Action</th>
    </tr>
    {% for row in complaints %}
    <tr>
        <td>{{ row[0] }}</td> <!-- id -->
        <td>{{ row[1] }}</td> <!-- name -->
        <td>{{ row[2] }}</td> <!-- room -->
        <td>{{ row[3] }}</td> <!-- mobile -->
        <td>{{ row[4] }}</td> <!-- branch -->
        <td>{{ row[5] }}</td> <!-- complaint -->
        <td>{{ row[6] }}</td> <!-- date_time -->
        <td>{{ row[7] }}</td> <!-- status -->
        <td>
            {% if row[7] == "Pending" %}
                <a href="{{ url_for('mark_resolved', complaint_id=row[0]) }}">
                    <button>Mark Resolved</button>
                </a>
            {% else %}
                Resolved
            {% endif %}
            |
            <a href="{{ url_for('delete_complaint_route', complaint_id=row[0]) }}" 
               onclick="return confirm('Are you sure you want to delete this complaint?');">
                <button style="background-color: red; color: white;">Delete</button>
            </a>
        </td>
    </tr>
    {% endfor %}
</table>
</div>
</body>
</html>
